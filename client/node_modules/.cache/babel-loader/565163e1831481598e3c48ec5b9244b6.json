{"ast":null,"code":"import _regeneratorRuntime from\"G:/Software/github/video-conference/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/Software/github/video-conference/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/Software/github/video-conference/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from'axios';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),created_roomID=_React$useState2[0],set_created_roomID=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),entered_roomID=_React$useState4[0],set_entered_roomID=_React$useState4[1];// const test=React.useRef(()=>{console.log('hi')})\nvar navigate=useNavigate();// React.useEffect(()=>{\n// },[])\nvar create_room=function create_room(){axios.get('/create_room').then(function(res){// Go to login page if sign up is successful\nset_created_roomID(res.data);}).catch(function(error){alert(error.response.data.error);});};var to_clip_board=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var textArea;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:textArea=document.createElement(\"textarea\");textArea.value=window.location.href+'door_to_room/'+created_roomID;document.body.appendChild(textArea);textArea.focus();textArea.select();document.execCommand(\"Copy\");document.body.removeChild(textArea);//await navigator.clipboard.writeText(created_roomID);\ncase 7:case\"end\":return _context.stop();}}},_callee);}));return function to_clip_board(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:create_room,children:\"Create room\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[created_roomID.length>0&&/*#__PURE__*/_jsx(\"button\",{className:\"copy button\",onClick:to_clip_board,children:\"Copy room address\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{resize:'none'},disabled:true,value:created_roomID})]}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return sessionStorage.setItem('name',e.target.value);},className:\"name_box\",type:\"text\",placeholder:\"name\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return set_entered_roomID(e.target.value);},className:\"roomID_box\",type:\"text\",placeholder:\"room ID\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return window.location.href=\"/room/\".concat(entered_roomID);},children:\"Join room\"})]});};export default Home;","map":{"version":3,"names":["React","axios","useNavigate","Home","useState","created_roomID","set_created_roomID","entered_roomID","set_entered_roomID","navigate","create_room","get","then","res","data","catch","error","alert","response","to_clip_board","textArea","document","createElement","value","window","location","href","body","appendChild","focus","select","execCommand","removeChild","display","length","resize","e","sessionStorage","setItem","target"],"sources":["G:/Software/github/video-conference/client/src/pages/Home.tsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios'\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nconst Home = () => {\r\n  const [created_roomID, set_created_roomID] = React.useState(\"\");\r\n  const [entered_roomID, set_entered_roomID] = React.useState(\"\");\r\n  // const test=React.useRef(()=>{console.log('hi')})\r\n  const navigate = useNavigate();\r\n  // React.useEffect(()=>{\r\n  // },[])\r\n\r\n  const create_room=()=>{\r\n    axios.get('/create_room', )\r\n    .then(res => { // Go to login page if sign up is successful\r\n      set_created_roomID(res.data)\r\n    })\r\n    .catch(error=>{\r\n      alert(error.response.data.error)\r\n    }) \r\n  }\r\n\r\n  const to_clip_board=async()=>{\r\n    const textArea = document.createElement(\"textarea\");\r\n    textArea.value = window.location.href+'door_to_room/'+created_roomID;\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n    document.execCommand(\"Copy\");\r\n    document.body.removeChild(textArea);\r\n    //await navigator.clipboard.writeText(created_roomID);\r\n  }\r\n\r\n  return(\r\n    <div className=\"home\">\r\n      <button onClick={create_room}>Create room</button>\r\n      <div style={{display:\"flex\"}}>\r\n        {created_roomID.length>0 && <button className={`copy button`} onClick={to_clip_board}>Copy room address</button>}\r\n        <textarea style={{resize: 'none'}} disabled={true} value={created_roomID}></textarea>\r\n      </div>\r\n      <input onChange={(e) => sessionStorage.setItem('name', e.target.value)} className=\"name_box\" type=\"text\" placeholder=\"name\" />\r\n      <input onChange={(e) => set_entered_roomID(e.target.value)} className=\"roomID_box\" type=\"text\" placeholder=\"room ID\" />\r\n      <button onClick={()=>(window.location.href=`/room/${entered_roomID}`)}>Join room</button>\r\n    </div>\r\n  )\r\n}\r\nexport default Home"],"mappings":"gZAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,KAAO,kBAAkB,CAAC,wFAE7C,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CACjB,oBAA6CH,KAAK,CAACI,QAAQ,CAAC,EAAE,CAAC,oDAAxDC,cAAc,qBAAEC,kBAAkB,qBACzC,qBAA6CN,KAAK,CAACI,QAAQ,CAAC,EAAE,CAAC,qDAAxDG,cAAc,qBAAEC,kBAAkB,qBACzC;AACA,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B;AACA;AAEA,GAAMQ,YAAW,CAAC,QAAZA,YAAW,EAAK,CACpBT,KAAK,CAACU,GAAG,CAAC,cAAc,CAAG,CAC1BC,IAAI,CAAC,SAAAC,GAAG,CAAI,CAAE;AACbP,kBAAkB,CAACO,GAAG,CAACC,IAAI,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAE,CACZC,KAAK,CAACD,KAAK,CAACE,QAAQ,CAACJ,IAAI,CAACE,KAAK,CAAC,CAClC,CAAC,CAAC,CACJ,CAAC,CAED,GAAMG,cAAa,4FAAC,kJACZC,QAAQ,CAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC,CACnDF,QAAQ,CAACG,KAAK,CAAGC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,eAAe,CAACrB,cAAc,CACpEgB,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,QAAQ,CAAC,CACnCA,QAAQ,CAACS,KAAK,EAAE,CAChBT,QAAQ,CAACU,MAAM,EAAE,CACjBT,QAAQ,CAACU,WAAW,CAAC,MAAM,CAAC,CAC5BV,QAAQ,CAACM,IAAI,CAACK,WAAW,CAACZ,QAAQ,CAAC,CACnC;AAAA,sDACD,kBATKD,cAAa,0CASlB,CAED,mBACE,aAAK,SAAS,CAAC,MAAM,wBACnB,eAAQ,OAAO,CAAET,WAAY,yBAAqB,cAClD,aAAK,KAAK,CAAE,CAACuB,OAAO,CAAC,MAAM,CAAE,WAC1B5B,cAAc,CAAC6B,MAAM,CAAC,CAAC,eAAI,eAAQ,SAAS,cAAgB,CAAC,OAAO,CAAEf,aAAc,+BAA2B,cAChH,iBAAU,KAAK,CAAE,CAACgB,MAAM,CAAE,MAAM,CAAE,CAAC,QAAQ,CAAE,IAAK,CAAC,KAAK,CAAE9B,cAAe,EAAY,GACjF,cACN,cAAO,QAAQ,CAAE,kBAAC+B,CAAC,QAAKC,eAAc,CAACC,OAAO,CAAC,MAAM,CAAEF,CAAC,CAACG,MAAM,CAAChB,KAAK,CAAC,EAAC,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,EAAG,cAC9H,cAAO,QAAQ,CAAE,kBAACa,CAAC,QAAK5B,mBAAkB,CAAC4B,CAAC,CAACG,MAAM,CAAChB,KAAK,CAAC,EAAC,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,EAAG,cACvH,eAAQ,OAAO,CAAE,yBAAKC,OAAM,CAACC,QAAQ,CAACC,IAAI,iBAAUnB,cAAc,CAAE,EAAE,uBAAmB,GACrF,CAEV,CAAC,CACD,cAAeJ,KAAI"},"metadata":{},"sourceType":"module"}